@model ARC.PIForm.Model.Entities.NewCandidateLinkRequest

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts{
    <script src="~/Scripts/Admin.js"></script>
    
    <script type="text/javascript">
        $(document).ready(function () {
            adminDetails.initializePIFormLinkRequest();
        });
    </script>
}

<h3>Candidate - New Request</h3>

<div class="formContainer" style="margin-top: 10px">
    <div class="row">
        <div class="col col-sm-2">
            <ul class="nav nav-tabs nav-stacked text-center" role="tablist">
                <li role="presentation">@Html.ActionLink("Home", "Index", "Admin")</li>
                <li role="presentation" class="active">@Html.ActionLink("Request", "Index", "Request")</li>
            </ul>
        </div>
        <div class="col col-sm-8">
            <div class="row tab-content">
                <div role="tabpanel" class="tab-pane fade active in" id="newCandidateFormLink">
                    @using (Html.BeginForm("GenerateLink", "Request"))
                    {
                        <div class="content">
                            <br />
                            <div class="fieldRow">
                                <label>
                                    Please enter candidate name and email address for whom the PI Form link needs to be generated.
                                </label>
                            </div>
                            <br />
                            <div class="fieldRow">
                                <span class="fieldCell twoCol">
                                    <label for="Name">Name <span class="requiredField">* : </span></label>
                                    @Html.TextBoxFor(model => model.Name, "", new { id = "txtName", style = "width: 250px" })
                                </span>
                                <span class="fieldCell twoCol">
                                    <label for="EmailAddress">Email Address<span class="requiredField">* : </span></label>
                                    @Html.TextBoxFor(model => model.EmailAddress, "", new { id = "txtEmailAddress", style = "width: 250px" })
                                </span>
                                <span class="fieldCell oneCol">
                                    <input type="submit" id="btnGenerateLink" value="Generate Link" class="btn btn-click glyphicon-align-center" />
                                </span>
                            </div>
                            <br />
                            <br />
                            <div class="fieldRow">
                                <span class="fieldCell fourCol">
                                    <label for="PIFormLink">PI Form Link: </label>
                                    @Html.TextBoxFor(model => model.PIFormLink, "", new { id = "txtPILink", style = "max-width: none; width: 87%" })
                                    <img src="~/Content/images/copy.png" id="imgCopy" alt="copy to clipboard" height="20" width="20" onclick="CopyToClipboard()" />
                                </span>
                            </div>
                            <br />
                            <br />
                            @if (ViewBag.Message != null)
                            {
                                <div id="divMessage">
                                    <div class="alert alert-success">
                                        <strong>@ViewBag.Message</strong>
                                    </div>
                                </div>
                            }
                            <br />
                            <br />
                            <div class="fieldRow">
                                <input type="button" id="btnClear" value="Generate New Link" class="btn btn-click glyphicon-align-center" />
                            </div>
                            <br />
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col col-sm-2">
        </div>
    </div>
</div>